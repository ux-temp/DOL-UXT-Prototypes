(function(d){function e(h,i,f,g){d.map(f,function(j,k){switch(k){case"text":i.text(j);break;case"style":i.css(j);break;case"class":i.addClass(j);break;case"event":break;default:i.attr(k,j);break}});if(i.get(0).tagName.toLowerCase()=="div"){i.hide()}if(!f.hasOwnProperty("id")){i.attr("id",h+i.get(0).tagName.toLowerCase()+g)}if(i.get(0).tagName.toLowerCase()=="input"){if(!(f.hasOwnProperty("event"))){i.on("click",function(){d(this).parents("#"+h).dialog("close")})}else{i.on(f.event.trigger,f.event.action)}}return i}function a(g,f){return g.attr(f)}function b(f){if(d(f).data("events")!=undefined){if(d(f).data("events")["click"]){d(f).unbind("click")}}}function c(i){var g={image:"img",message:"p",button:'input type="button"'};var h=d.fn.navOutWarning.modals[i];var f=e(i,d("<div />"),h.modal,0);d.map(g,function(k,l){if(h.hasOwnProperty(l)){modalAttribute=h[l];if(modalAttribute instanceof Array){for(var j in modalAttribute){f.append(e(i,d("<"+k+" />"),modalAttribute[j],j))}}else{f.append(e(i,d("<"+k+" />"),modalAttribute,j))}}});d("body").append(f)}d.fn.navOutWarning=function(f){var i=d.extend({},d.fn.navOutWarning.defaults);d.map(i,function(j,k){if(f.hasOwnProperty(k)){if(d.isEmptyObject(f[k])){delete f[k];delete i[k]}}});f=d.extend(true,{},i,f);if(d("#"+f.modal.id).length==0){d.fn.navOutWarning.modals[f.modal.id]=f;c(f.modal.id)}var g=this;var h=d(this).filter('a:not([href^="#"]):not([target*="blank"]):not([class*="ux-no-block"])');return h.each(function(){var j=d(this);b(j);j.click(function(k){k.preventDefault();d.fn.navOutWarning.clickedLink=j;d("#"+f.modal.id).dialog({resizeable:false,modal:true})})})};d.fn.navOutWarning.defaults={modal:{id:"genericMsg",title:"You will lose your work!"},image:{src:ux.core.resourcePath+"/images/icons/warning_48.png",alt:"Warning/Caution Message",style:{"float":"left"}},message:[{text:"By continuing with this action you will be leaving the application, causing all your unsaved work to be lost.","class":"primary-msg"},{text:"Are you sure you want to do this?",style:{"text-align":"center"}}],button:[{value:"Yes","class":"primary button no-icon left-button",style:{"float":"left"},event:{trigger:"click",action:function(){window.location=d.fn.navOutWarning.clickedLink.attr("href")}}},{value:"No","class":"button no-icon right-button",style:{"float":"right"}}]};d.fn.navOutWarning.modals={};d.fn.navOutWarning.clickedLink})(jQuery);
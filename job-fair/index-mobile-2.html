<!DOCTYPE html> 
<html> 
	<head> 
		<title>Page Title</title> 
	
		<meta name="viewport" content="width=device-width, initial-scale=1"> 

		<link rel="stylesheet" href="css/jquery.mobile-1.1.0.min.css" />
		<link rel="stylesheet" type="text/css" href="css/validation-engine-2.5.3.css">

		<script src="js/jquery-1.7.1.min.js"></script>
		<script src="js/jquery.mobile-1.1.0.min.js"></script>

		<style>
			.msg {
				font-size: 1.5em;
				text-align: center;
			}
			.msg.success {
				font-size: 1em;
				color: #5fD200;
			}
			.msg.fail {
				font-size: 1em;
				color: #FF0000;
			}

			/* override specifically for jQuery mobile forms */
			.formError {
				margin-top: -27px !important;
				left: 0px !important;
			}

			.ui-radio .formError {
				margin-top: -13px !important;
				margin-left: 183px;
			}

			.milYesformError.formError {
				margin-left: 143px;
			}

			.ui-select .ui-btn {
				overflow: visible;
			}

			.ageMoreMargin {
				display: block;
				margin-bottom: 8px;
			}

			.ageRangeformError.formError {
				margin-left: 100px;
				margin-top: -30px !important;
			}

			.uiYesformError.formError {
				margin-left: 140px;
			}

			.eventformError.formError {
				margin-left: 184px;
				margin-top: -30px !important;
			}

			.educationformError.formError {
				margin-left: 220px;
				margin-top: -30px !important;
			}

			.tradeAgriculturealformError.formError {
				margin-top: -73px !important;
			}

			.tradeAgriculturealformError .formErrorArrow {
				display: none;
			}

			#hide-access {
				clip: rect(1px,1px,1px,1px);
				position: absolute!important;
			}

		</style>

	</head> 
	<body> 
			<!-- Page one -->
			<div data-role="page" id="page1">
				<div data-role="header">
					<h1>Job Fair Registration</h1>
				</div>

				<div data-role="content">
					<form name="jfPart1" id="jfPart1" action="process.php" method="POST">
		                <div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup">
		                        <label for="fname">
		                        </label>
		                        <input id="fname" placeholder="First Name" value="" name="fname" type="text" class="validate[required]"/>
		                    </fieldset>
		                </div>
		                <div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup">
		                        <label for="lname">
		                        </label>
		                        <input id="lname" placeholder="Last Name" value="" name="lname" type="text" class="validate[required]"/>
		                    </fieldset>
		                </div>
		                <div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup">
		                        <label for="email">
		                        </label>
		                        <input id="email" placeholder="Email" value="" name="email" type="text" class="validate[required]"/>
		                    </fieldset>
		                </div>
		                <div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup">
		                        <label for="ssn">
		                        </label>
		                        <input id="ssn" placeholder="Social Security Number" value="" name="ssn" type="text" />
		                    </fieldset>
		                </div>
		                <p>
		                    <input type="submit" id="firstForm" value="Continue" data-role="submit" data-icon="arrow-r" data-iconpos="right" data-theme="b" />
		                </p>
		            </form>
				</div>
			</div>
			<div data-role="page" id="page2">
				<div data-role="header">
					<h1>Job Fair Registration</h1>
				</div>

				<div data-role="content">	
					<form name="jfPart2" id="jfPart2" action="process.php" method="POST">
		                <div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup" data-type="horizontal">
		                        <legend>
		                            Gender
		                        </legend>
		                        <input name="gender" id="female" value="F" type="radio" class="validate[required]" />
		                        <label for="female">
		                            Female
		                        </label>
		                        <input name="gender" id="male" value="M" type="radio" class="validate[required]" />
		                        <label for="male">
		                            Male
		                        </label>
		                    </fieldset>
		                </div>
		               	<div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup" data-type="horizontal">
		                        <legend>
		                            Are you a veteran of the United States military?
		                        </legend>
		                        <input name="veteran" id="milYes" value="1" type="radio" class="validate[required]" />
		                        <label for="milYes">
		                            Yes
		                        </label>
		                        <input name="veteran" id="milNo" value="0" type="radio" class="validate[required]" />
		                        <label for="milNo">
		                            No
		                        </label>
		                    </fieldset>
		                </div>
		                <div data-role="fieldcontain">
		                    <label for="selectmenu1" class="ageMoreMargin">
		                        Age Range?
		                    </label>
		                    <select name="ageRange" id="ageRange" class="validate[required]">
		                    	<option value="">
		                            -- Select Age Range --
		                        </option>
		                        <option value="14-17">
		                            14-17
		                        </option>
		                        <option value="18-21">
		                            18-21
		                        </option>
		                        <option value="22-39">
		                            22-39
		                        </option>
		                        <option value="40-54">
		                            40-54
		                        </option>
		                        <option value="55-64">
		                            55-64
		                        </option>
		                        <option value="65 Plus">
		                            65+
		                        </option>
		                    </select>
		                </div>
		                <div class="ui-grid-a">
		                    <div class="ui-block-a">
		                        <a id="back-to-first" data-role="button" data-icon="arrow-l">Previous</a>
		                    </div>
		                    <div class="ui-block-b">
		                        <input type="submit" id="secondForm" value="Continue" data-role="submit" data-icon="arrow-r" data-iconpos="right" data-theme="b"  />
		                    </div>
		                </div>
	            	</form>
				</div>
			</div>

			<div data-role="page" id="page3">
				<div data-role="header">
					<h1>Job Fair Registration</h1>
				</div>

				<div data-role="content">
					<form name="jfPart3" id="jfPart3" action="process.php" method="POST">
		               	<div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup" data-type="horizontal">
		                        <legend>
		                            Are you currently collecting Unemployment Insurance benefits?
		                        </legend>
		                        <input name="unemployed" id="uiYes" value="1" type="radio" class="validate[required]" />
		                        <label for="uiYes">
		                            Yes
		                        </label>
		                        <input name="unemployed" id="uiNo" value="0" type="radio" class="validate[required]" />
		                        <label for="uiNo">
		                            No
		                        </label>
		                    </fieldset>
		                </div>
						<div data-role="fieldcontain">
						    <label for="event">
						        Which event are you planning to attend?
						    </label>
						    <select name="event" id="event" class="validate[required]">
		                    	<option value="">
		                            -- Select Event --
		                        </option>
						        <option value="brooklyn">
						            Brooklyn
						        </option>
						        <option value="bronx">
						            Bronx
						        </option>
						        <option value="manhatten">
						            Manhattan
						        </option>
						        <option value="staten-island">
						            Staten Island
						        </option>
						        <option value="queens">
						            Queens
						        </option>
						    </select>
						</div>
						<div data-role="fieldcontain">
						    <label for="education">
						        Level of Education Completed:
						    </label>
						    <select name="education" id="education" class="validate[required]">
		                    	<option value="">
		                            -- Select Educational Level --
		                        </option>
						        <option value="Less Than High School">
						            Less than High School
						        </option>
						        <option value="Some High School">
						            Some High School
						        </option>
						        <option value="High School or GED">
						            High School Degree or GED
						        </option>
						        <option value="Apprenticeship">
						            Apprenticeship
						        </option>
						        <option value="Vocational Trade">
						            Vocational Trade School
						        </option>
						        <option value="Some College">
						            Some College Credits
						        </option>
						        <option value="Assoiciate">
						            Associate Degree
						        </option>
						        <option value="Bachelor">
						            Bachelor's Degree
						        </option>
						        <option value="Masters">
						            Master Degree
						        </option>
						        <option value="Doctorate">
						            Doctorate Degree
						        </option>
						    </select>
						</div>
						<div class="ui-grid-a">
						    <div class="ui-block-a">
						        <a id="back-to-second" data-role="button" data-icon="arrow-l">Previous</a>
						    </div>
						    <div class="ui-block-b">
						        <input type="submit" id="thirdForm" value="Continue" data-role="submit" data-icon="arrow-r" data-iconpos="right" data-theme="b"  />
						    </div>
						</div>
					</form>
				</div>

			</div>

			<div data-role="page" id="page4">
				<div data-role="header">
					<h1>Job Fair Registration</h1>
				</div>

				<div data-role="content">
					<form name="jfPart4" id="jfPart4" action="process.php" method="GET">
						<div data-role="fieldcontain">
		                    <fieldset data-role="controlgroup" data-type="vertical" id="interestedTrades">
		                        <legend>
		                            Employment Area of Interest (Check all that apply)
		                        </legend>
		                        <input name="tradeAgricultureal" id="tradeAgricultureal" type="checkbox" value="1" class="validate[funcCall[interestedTradeCheck]]"/>
		                        <label for="tradeAgricultureal">
		                            Agricultural
		                        </label>
		                        <input name="tradeConstruction" id="tradeConstruction" type="checkbox" value="1" />
		                        <label for="tradeConstruction">
		                            Construction
		                        </label>
		                        <input name="tradeEducation" id="tradeEducation" type="checkbox" value="1" />
		                        <label for="tradeEducation">
		                            Education
		                        </label>
		                        <input name="tradeFinancialService" id="tradeFinancialService" type="checkbox" value="1" />
		                        <label for="tradeFinancialService">
		                            Financial Services
		                        </label>
		                        <input name="tradeFoodService" id="tradeFoodService" type="checkbox" value="1" />
		                        <label for="tradeFoodService">
		                            Food Service
		                        </label>
		                        <input name="tradeHealthService" id="tradeHealthService" type="checkbox" value="1" />
		                        <label for="tradeHealthService">
		                            Health Services
		                        </label>
		                        <input name="tradeInfoTech" id="tradeInfoTech" type="checkbox" value="1" />
		                        <label for="tradeInfoTech">
		                            Information Technology
		                        </label>
		                        <input name="tradeLeisureHosp" id="tradeLeisureHosp" type="checkbox" value="1" />
		                        <label for="tradeLeisureHosp">
		                            Leisure &amp; Hospitality
		                        </label>
		                        <input name="tradeManufacturing" id="tradeManufacturing" type="checkbox" value="1" />
		                        <label for="tradeManufacturing">
		                            Manufacturing
		                        </label>
		                        <input name="tradeNaturalResourceMining" id="tradeNaturalResourceMining" type="checkbox" value="1" />
		                        <label for="tradeNaturalResourceMining">
		                            Natural Resources &amp; Mining
		                        </label>
		                        <input name="tradeProfessionalBusiness" id="tradeProfessionalBusiness" type="checkbox" value="1" />
		                        <label for="tradeProfessionalBusiness">
		                            Professional &amp; Business Services
		                        </label>
		                        <input name="tradePublicAdmin" id="tradePublicAdmin" type="checkbox" value="1" />
		                        <label for="tradePublicAdmin">
		                            Public Administration
		                        </label>
		                        <input name="tradeSales" id="tradeSales" type="checkbox" value="1" />
		                        <label for="tradeSales">
		                            Sales &amp; Retail
		                        </label>
		                        <input name="tradeSecurityMilitary" id="tradeSecurityMilitary" type="checkbox" value="1" />
		                        <label for="tradeSecurityMilitary">
		                            Security and/or Military
		                        </label>
		                        <input name="tradeSocialService" id="tradeSocialService" type="checkbox" value="1" />
		                        <label for="tradeSocialService">
		                            Social Services
		                        </label>
		                        <input name="tradeTradeTransportUtilities" id="tradeTradeTransportUtilities" type="checkbox" value="1" />
		                        <label for="tradeTradeTransportUtilities">
		                            Trade, Transportation, &amp; Utilities
		                        </label>
		                    </fieldset>
		                </div>
		                <div id="hide-access">
		                	<input type="text" name="formSecCode" id="formSecCode" />
		                	<input type="hidden" name="device" id="device" value="mobile" />
		                </div>
		                <div class="ui-grid-a">
		                    <div class="ui-block-a">
		                        <a id="back-to-third" data-role="button" data-icon="arrow-l">Previous</a>
		                    </div>
		                    <div class="ui-block-b">
		                        <a data-role="button" id="fourthForm" data-icon="arrow-r" data-iconpos="right" data-theme="b">Submit</a>
		                    </div>
		                </div>
		            </form>
				</div>
			</div>

		<div data-role="page" id="success">
			<div data-role="header">
				<h1>Job Fair Registration</h1>
			</div>

			<div data-role="content">	
				<p class="msg success">
					Your Registration has been recieved!
				</p>
				<p class="msg">
					Thank you for pre-registring for the upcoming job fair. Your confirmation code can be found below. Please keep a copy of this code for personal reference. For better assistance with job placement please send a copy of your resume to <a href="mailto:labor.sm.pt.sd.webmail@labor.ny.gov">labor.sm.pt.sd.webmail@labor.ny.gov</a>.
				</p>
				<p class="msg success" id="code">

				</p>
			</div>

			<div data-role="footer">
				<h4>Thank You for Registering</h4>
			</div>
		</div>

		<div data-role="page" id="fail">
			<div data-role="header">
				<h1>Job Fair Registration</h1>
			</div>

			<div data-role="content">	
				<p class="msg fail">
					Your Registration has been recieved!
				</p>
				<p class="msg">
					Thank you for pre-registring for the upcoming job fair. For better assistance with job placement please send a copy of your resume to: <a href="mailto:labor.sm.pt.sd.webmail@labor.ny.gov">labor.sm.pt.sd.webmail@labor.ny.gov</a>.
				</p>
			</div>

			<div data-role="footer">
				<h4>We are sorry for any inconvenience</h4>
			</div>
		</div>

		<script src="js/validation-engine-2.5.3-en.js"></script>
		<script src="js/validation-engine-2.5.3.js"></script>

		<script>
		    
		    //var form1, form2, form3, form4;

		    // Object to contain form values
		    var forms = {
		    	form1: "",
		    	form2: "",
		    	form3: "",
		    	form4: ""
		    };

			$(document).ready(function(){

				$("#jfPart1").validationEngine();
				$("#jfPart2").validationEngine();
				$("#jfPart3").validationEngine();
				$("#jfPart4").validationEngine();

				/* Page 1 */

				// First form to the second form
				$('#firstForm').on("click", function(e){
					
					e.preventDefault();
					
					var firstFormVal = $('#jfPart1').validationEngine('validate');

					if (firstFormVal) {
					
						// Save off the form values
						forms.form1 = $('#jfPart1').serialize();

						//console.log(form1);

						// Move to the next form
						$.mobile.changePage( $("#page2"), { transition: "slideup"} );
					}

				});

				/* Page 2 */

				// Back to the first form
				$('#back-to-first').on("click",function(e){
					// Clear any promts if they are showing
					jQuery('#jfPart2').validationEngine('hide');

					// Go back to page 1
					$.mobile.changePage( $("#page1"), { transition: "slidedown"} );
				});


				// Second form to the third form
				$('#secondForm').on("click", function(e){
					
					e.preventDefault();
					
					var secondFormVal = $('#jfPart2').validationEngine('validate');

					if (secondFormVal) {

						// Save off the form values
						forms.form2 = $('#jfPart2').serialize();

						//console.log(form2);

						$.mobile.changePage( $("#page3"), { transition: "slideup"} );
					}

				});

				/* Page 3 */

				$('#back-to-second').on("click",function(e){
					// Clear any promts if they are showing
					jQuery('#jfPart3').validationEngine('hide');

					// Go back to page 1
					$.mobile.changePage( $("#page2"), { transition: "slidedown"} );
				});

				// Third form to the forth form
				$('#thirdForm').on("click", function(e){
					
					e.preventDefault();
					
					var thirdFormVal = $('#jfPart3').validationEngine('validate');

					if (thirdFormVal) {

						// Save off the form values
						forms.form3 = $('#jfPart3').serialize();

						//console.log(form3);

						$.mobile.changePage( $("#page4"), { transition: "slideup"} );
					}

				});

				/* Page 4 */

				$('#back-to-third').on("click",function(e){
					// Clear any promts if they are showing
					jQuery('#jsPart4').validationEngine('hide');

					// Go back to page 1
					$.mobile.changePage( $("#page3"), { transition: "slidedown"} );
				});

			});


			// Loading stat while submitting
		    $(document).bind('mobileinit', function () {
		        $.mobile.loadingMessageTheme = 'e';
		        $.mobile.loadingMessage = 'Sending Data';
		        $.mobile.loadingMessageTextVisible = false;
		    	}).delegate('#fourthForm', 'click', function (e) {

		    		e.preventDefault();

		    		var fourthFormVal = $('#jfPart4').validationEngine('validate');

		    		if (fourthFormVal) {

		    			// Save off the form values
						forms.form4 = $('#jfPart4').serialize();

			        	// Show loading spinnner
			        	$.mobile.showPageLoadingMsg();

			        	// Ajax Form Submittion
	 					$.ajax({
	                        type: 'POST',
	                        url: 'process.php',
	                        data: forms.form1 + "&" + forms.form2 + "&" + forms.form3 + "&" + forms.form4,
	                        success: function(data) {

	                        	$('#code').text(data);

	                            $.mobile.changePage( $("#success"), { transition: "slideup"} );
	                        },
	                        fail: function(data) {
	                            $.mobile.changePage( $("#fail"), { transition: "slideup"} );
	                        }
	                    });

 					}

		    	});


			// Copy of the awsome function created by victor to check if one or more checkboxes not in the same group have been checked.
			var interestedTrade = $('#interestedTrades').find("input[type=checkbox]");

			function interestedTradeCheck(){
				
				var selectedCheckBoxes = interestedTrade.filter(":checked");

				if (selectedCheckBoxes.length == 0) {
					return "* Please check at least one.";
				}

			}

	
		</script>

	</body>
</html>
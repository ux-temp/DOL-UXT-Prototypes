(function(a){a.fn.popover=function(){var b=a('<div class="popover" style="display:none;"></div>');var d="";var c=a('<div class="arrow"></div>');return this.each(function(g){var h=a(this);if(h.next(".ux-popover-container").length){var f=b.clone().attr("id","popover-"+g).html(h.next(".ux-popover-container").html()).prepend(c.clone().addClass("top")).appendTo("body");var e=h.offset(),k,j;if((h.parent("div.arrow-down").length)){var e=h.parent("div.arrow-down").offset();k=e.top+h.parent("div.arrow-down").height();j=e.left-(f.outerWidth()/2)+(h.parent("div.arrow-down").width()/2)}else{k=e.top+h.height();j=e.left-(f.outerWidth()/2)+(h.width()/2)}f.css({top:k,left:j});h.on("click",function(i){i.preventDefault();if(a("#popover-"+g).hasClass("active")){a("#popover-"+g).removeClass("active").hide()}else{a(".popover.active").removeClass("active").hide();a("#popover-"+g).addClass("active").show()}i.stopPropagation();a("html").on("click",function(){a(".popover.active").removeClass("active").hide()})})}})}})(jQuery);